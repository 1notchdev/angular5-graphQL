<dx-popup
class="popup"
[width]="'50vw'"
[height]="'50vh'"
[showTitle]="true"
title="Aspect Selector"
[dragEnabled]="false"
(onHidden)="close()"
[closeOnOutsideClick]="false"
[visible]="visible">
<div *dxTemplate="let data of 'content'">

    <div id="mainContent" class="m-portlet" style="height: 100%">

        <form class="m-form" style="height: 100%">
            <div class="m-portlet__body" style="height: calc(100% - 97px); padding-top: 40px;padding-bottom: 0; display:flex; flex-direction: column">
                <div class="form-group m-form__group row" style="flex: 0 0 auto">
                    <label class="col-lg-2 col-form-label">
                        Inherits from:
                    </label>
                    <div class="col-lg-8">
                        <aspect-chooser [excludedAspects]="aspects" [(selectedAspects)]="_selectedAspects"></aspect-chooser>
                        <span class="m-form__help">
                            Select existing Aspects you want to inherit their properties and dynamics
                         </span>
                    </div>
                </div>
                    <dx-list [hidden]="_statusMessages.length == 0"
                    [dataSource]="_statusMessages"
                    style="flex: 1 1 100px">
                        <div *dxTemplate="let item of 'item'" style="display:flex; flex-direction: row;">
                                <div style="flex: 1 1 auto"> 
                                 <span>{{item.content}}</span>    
                                </div>
                                <div style="flex: 0 0 auto">
                                        <a href="#" class="m--font-metal"><span (click)="onRetry(item.aspect)">Retry</span></a>
                                </div> 
                        </div>
                    </dx-list>
            </div>

            <div class="m-portlet__foot m-portlet__foot--fit">
                <div class="m-form__actions m-form__actions--solid m-form__actions--right">
                    <span class="float-left">Help</span>
                    <button class="btn btn-brand m-btn--wide" type="reset" (click)="close()">
                        Close
                    </button>
                    <button class="btn btn-brand m-btn--wide" type="reset" (click)="onSubmit()">
                        Done
                    </button>
                </div>
            </div>
        </form>
        <!--begin::Form-->
        <!--end::Form-->
    </div>
        <dx-load-panel
            [position]="{ of: '#mainContent' }"
            [(visible)]=" _loadingVisble"
            [showIndicator]="false"
            message=""
            [showPane]="false"
            [shading]="true"
            [closeOnOutsideClick]="false">
        </dx-load-panel>
   
</div>
</dx-popup>
